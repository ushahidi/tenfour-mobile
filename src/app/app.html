<ion-split-pane #splitPane [enabled]="organization && person && (tablet == true || mobile == false)">
  <ion-menu #menu [content]="content" side="left" type="reveal" swipeEnabled="false" (ionOpen)="loadMenu()">
    <ion-header>
      <ion-toolbar color="navbar">
        <ion-title *ngIf="organization">{{organization.name}}</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list *ngIf="organization && person">
        <ion-item color="white" detail-push tappable (click)="showCheckinList($event)">Check-Ins</ion-item>
        <ion-item color="white" detail-push tappable *ngIf="person.isOwner() || person.isAdmin() || person.isAuthor() || person.isViewer()" (click)="showPersonList($event)">People</ion-item>
        <ion-item color="white" detail-push tappable *ngIf="person.isOwner() || person.isAdmin() || person.isAuthor() || person.isViewer()" (click)="showGroupList($event)">Groups</ion-item>
        <ion-item color="white" detail-push tappable *ngIf="person.isOwner() || person.isAdmin() || person.isAuthor() || person.isViewer()" (click)="showNotificationList($event)">Notifications</ion-item>
        <ion-item color="white" detail-push tappable *ngIf="person.isOwner() || person.isAdmin()" (click)="showSettingsList($event)">Settings</ion-item>
        <ion-item color="white" detail-push tappable (click)="showPersonDetails($event)">Profile</ion-item>
      </ion-list>
      <p text-center *ngIf="organization && organization.credits == 0">No credits remaining</p>
      <p text-center *ngIf="organization && organization.credits > 0">{{organization.credits}} text message credits</p>
      <p text-center *ngIf="person">
        <button ion-button block clear color="primary"(click)="userLogout($event)">Log out</button>
      </p>
    </ion-content>
  </ion-menu>
  <ion-menu #details [content]="content" side="right" type="reveal" swipeEnabled="false" *ngIf="checkin">
    <ion-header>
      <ion-toolbar color="navbar">
        <ion-buttons left>
          <button ion-button icon-only color="primary" (click)="hideCheckin()">
            <ion-icon ios="ios-close" md="md-close"></ion-icon>
          </button>
        </ion-buttons>
        <ion-title>Check-In</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <checkin-details [checkin]="checkin" [person]="person"
                       [canRespond]="checkin.canRespond(person)" [canResend]="checkin.canResend(person)"
                       (respondClicked)="respondCheckin($event)" (resendClicked)="resendCheckin($event)" *ngIf="checkin"></checkin-details>
    </ion-content>
  </ion-menu>
  <ion-nav main #content #rootNavController swipeBackEnabled="false" [root]="rootPage"></ion-nav>
</ion-split-pane>
